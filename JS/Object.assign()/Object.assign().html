<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Object.assign()</title>
</head>
<body>

    <script>
        let dest, src, result;

        /**
         * 简单复制
         **/
        dest = { id: 'dest' };
        src1 = { id: 'src1', a: 'foo' };
        src2 = { id: 'src2', b: 'bar' };

        result = Object.assign(dest, src1, src2);
        
        // Object.assign 会覆盖重复的属性
        console.log(result); // { id: 'src2', a: 'foo', b: 'bar' }

        // 可以通过目标对象上的设置函数观察到覆盖的过程
        dest = {
            set id(x) {
                console.log(x);
            }
        };
        Object.assign(dest, { id: 'first' }, { id: 'second' }, { id: 'third' });
        // first
        // second
        // third

        /**
         * 对象引用
         **/
        dest = {};
        src = {
            a: {}
        };
        Object.assign(dest, src);
        // 浅复制意味着只会复制对象的引用
        console.log(dest); // { a: {} }
        console.log(dest.a === src.a); // true
 
    </script>
</body>
</html>